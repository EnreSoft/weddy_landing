<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="wpOceans" />
    <link
      rel="shortcut icon"
      type="image/png"
      href="assets/images/favicon.png"
    />
    <title>Account Details | Weddy</title>

    <style>
    main {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      background-color: #f9f9f9;
      padding: 20px;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 30px;
      padding: 50px;
    }

    input {
      padding: 12px 20px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 15px;
      width: 250px;
    }

    button {
      padding: 12px 20px;
      font-size: 16px;
      background-color: #D4B0A5;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 20px;
    }


    #resultMessage {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>

    
    <link href="assets/css/themify-icons.css" rel="stylesheet" />
    <link href="assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="assets/css/flaticon.css" rel="stylesheet" />
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/animate.css" rel="stylesheet" />
    <link href="assets/css/owl.carousel.css" rel="stylesheet" />
    <link href="assets/css/owl.theme.css" rel="stylesheet" />
    <link href="assets/css/slick.css" rel="stylesheet" />
    <link href="assets/css/slick-theme.css" rel="stylesheet" />
    <link href="assets/css/swiper.min.css" rel="stylesheet" />
    <link href="assets/css/nice-select.css" rel="stylesheet" />
    <link href="assets/css/owl.transitions.css" rel="stylesheet" />
    <link href="assets/css/jquery.fancybox.css" rel="stylesheet" />
    <link href="assets/css/odometer-theme-default.css" rel="stylesheet" />
    <link href="assets/css/jquery-ui.css" rel="stylesheet" />
    <link href="assets/sass/style.css" rel="stylesheet" />


  
       <style>
      
      /* Eşit yükseklik için parent row'u flex yap */
.office-info .row {
  display: flex;
  flex-wrap: wrap;
}

/* Her col sütunu eşit boyda olsun */
.office-info .col {
  display: flex;
}

/* Bu kutuların yüksekliği eşitlensin */
.office-info-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 100%;
}


.menu-close {
  position: relative;
  width: 50px;      /* örnek buton genişliği */
  height: 50px;     /* örnek buton yüksekliği */
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.menu-close i {
  font-size: inherit;  /* X işaretinin boyutu */
}





    </style>

  </head>

  <body>
    <header id="header">
      <div class="wpo-site-header wpo-header-style-1" id="sticky-header">
        <nav class="navigation navbar navbar-expand-lg navbar-light">
          <div class="container-fluid">
            <div class="row align-items-center">
              <div class="col-md-3 col-3 d-lg-none d-block">
                <div class="mobail-menu">
                  <button type="button" class="navbar-toggler open-btn">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar first-angle"></span>
                    <span class="icon-bar middle-angle"></span>
                    <span class="icon-bar last-angle"></span>
                  </button>
                </div>
              </div>
              <div class="col-lg-2 col-md-6 col-6 d-lg-block d-none">
                <a  href="index.html">
                    <img style="width: 200px; height: 80px; background-color: #D4B0A5; border-radius: 10px;" src="assets/images/weddy-logo-white.svg" alt=""/>
                </a>
                <!-- <div class="social-info">
                  <ul>
                    <li>
                      <a href="#"
                        ><i class="fi flaticon-facebook-app-symbol"></i
                      ></a>
                    </li>
                    <li>
                      <a href="#"><i class="fi flaticon-twitter"></i></a>
                    </li>
                    <li>
                      <a href="#"><i class="fi flaticon-linkedin"></i></a>
                    </li>
                    <li>
                      <a href="#"><i class="fi flaticon-instagram-1"></i></a>
                    </li>
                  </ul>
                </div> -->
              </div>
              <div class="col-md-6 col-6 d-lg-none dl-block">
                <div class="navbar-header">
                  
                </div>
              </div>
              <div class="col-lg-8 col-md-1 col-1">
                <div
                  id="navbar"
                  class="collapse navbar-collapse navigation-holder"
                >
                  <button class="menu-close"><i class="ti-close"></i></button>
                  <ul class="nav navbar-nav mb-2 mb-lg-0">
                    <li class="menu-item-has-children">
                      <a href="index.html">Home</a>
                      
                    </li>
                    <li><a href="#blog">Blog</a></li>
                    <li><a href="#contact">Contact</a></li>

                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <!-- end of nav-collapse -->
              </div>
              <div class="col-lg-2 col-md-2 col-2">
                <div class="header-right" >
                  <!-- <a  href="index.html"
                    ><img style="width: 200px; height: 80px; background-color: #D4B0A5; border-radius: 10px;" src="assets/images/weddy-logo-white.svg" alt=""
                  /></a> -->

                <div class="social-info">
                    <ul>
                      <li>
                        <a href="#"
                          ><i class="fi flaticon-facebook-app-symbol"></i
                        ></a>
                      </li>
                      <li>
                        <a href="#"><i class="fi flaticon-twitter"></i></a>
                      </li>
                      <li>
                        <a href="#"><i class="fi flaticon-linkedin"></i></a>
                      </li>
                      <li>
                        <a href="#"><i class="fi flaticon-instagram-1"></i></a>
                      </li>
                    </ul>
                </div>
                  
                </div>
              </div>
            </div>
          </div>
          <!-- end of container -->
        </nav>
      </div>
    </header>
    <main class="container" style="padding: 100px 20px; max-width: 800px;">
      <h1 style="font-family:'Courier New', Courier, monospace; font-weight: bold; color: #D4B0A5;">Delete Your Account</h1>
      <form id="loginForm">
  <div style="margin-bottom: 15px;">
    <label style="font-weight: bold;" for="email">Email:</label><br>
    <input type="email" id="email" name="email" placeholder="Enter your email" style="padding: 10px; width: 250px; border: 1px solid #ccc; border-radius: 5px;">
  </div>

  <div style="margin-bottom: 15px;">
    <label style="font-weight: bold;" for="password">Password:</label><br>
    <input type="password" id="password" name="password" placeholder="Enter your password" style="padding: 10px; width: 250px; border: 1px solid #ccc; border-radius: 5px;">
  </div>

  <button type="submit" style="padding: 10px 20px; background-color: #D4B0A5; color: white; border: none; border-radius: 5px; cursor: pointer;">
    Delete
  </button>
</form>

<p id="resultMessage"></p>


    </main>

    <section class="wpo-contact-pg-section section-padding" id="contact">
        <div class="container">
            <div class="row">
                <div class="col col-lg-10 offset-lg-1">
                    <div class="office-info">
                        <div class="row">
                            <div class="col col-xl-4 col-lg-6 col-md-6 col-12">
                                <div class="office-info-item">
                                    <div class="office-info-icon">
                                        <div class="icon">
                                            <i class="fi flaticon-maps-and-flags"></i>
                                        </div>
                                    </div>
                                    <div class="office-info-text">
                                        <h2>Address</h2>
                                        <p>136 KINGSLAND RD STE 1188 CLIFTON, NJ 07014</p>
                                    </div>
                                </div>
                            </div> 
                            <div class="col col-xl-4 col-lg-6 col-md-6 col-12">
                                <div class="office-info-item">
                                    <div class="office-info-icon">
                                        <div class="icon">
                                            <i class="fi flaticon-email"></i>
                                        </div>
                                    </div>
                                    <div class="office-info-text">
                                        <h2>Email Us</h2>
                                        <p>enresoft@gmail.com</p>
                                    </div>
                                </div>
                            </div> 
                            <div class="col col-xl-4 col-lg-6 col-md-6 col-12">
                                <div class="office-info-item">
                                    <div class="office-info-icon">
                                        <div class="icon">
                                            <i class="fi flaticon-phone-call"></i>
                                        </div>
                                    </div>
                                    <div class="office-info-text">
                                        <h2>Call Now</h2>
                                        <p>+1 469 850 5252</p>
                                    </div>
                                </div>
                            </div> 
                        </div>
                    </div>
                    <!-- TODO : Contact Form -->
                    <!-- <div class="wpo-contact-title">
                        <h2>Have Any Question?</h2>
                        <p>It is a long established fact that a reader will be distracted
                            content of a page when looking.</p>
                    </div>
                    <div class="wpo-contact-form-area">
                        <form method="post" class="contact-validation-active" id="contact-form-main">
                            <div>
                                <input type="text" class="form-control" name="name" id="name" placeholder="Your Name*">
                            </div>
                            <div>
                                <input type="email" class="form-control" name="email" id="email" placeholder="Your Email*">
                            </div>
                            <div>
                                <input type="text" class="form-control" name="adress" id="adress" placeholder="Adress">
                            </div>
                            <div>
                                <select name="service" class="form-control">
                                    <option disabled="disabled" selected="">Services</option>
                                    <option>Photography</option>
                                    <option>The Rehearsal Dinner</option>
                                    <option>The Afterparty</option>
                                    <option>Videographers</option>
                                    <option>Perfect Cake</option>
                                    <option>All Of The Above</option>
                                </select>
                            </div>
                            <div class="fullwidth">
                                <textarea class="form-control" name="note"  id="note" placeholder="Message..."></textarea>
                            </div>
                            <div class="submit-area">
                                <button type="submit" class="theme-btn-s4">Get in Touch</button>
                                <div id="loader">
                                    <i class="ti-reload"></i>
                                </div>
                            </div>
                            <div class="clearfix error-handling-messages">
                                <div id="success">Thank you</div>
                                <div id="error"> Error occurred while sending email. Please try again later. </div>
                            </div>
                        </form>
                    </div> -->
                </div>                
            </div>
        </div> <!-- end container -->
      </section>

    <div class="wpo-site-footer text-center">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="footer-image">
              <a class="logo" href="index.html"
                ><img style="width: 200px; height: 80px; background-color: #D4B0A5; border-radius: 10px;" src="assets/images/weddy-logo-white.svg" alt=""
                /></a>
            </div>
          </div>
          <div class="col-12">
            <div class="footer-link">
              <ul>
                <li><a href="index.html">Home</a></li>
                <!-- <li><a href="about.html">About</a></li> -->
                <!-- <li><a href="index-2.html">Wedding</a></li> -->
                <!-- <li><a href="portfolio-grid.html">Portfolio</a></li> -->
                 <!-- TODO: Blog will be.. -->
                <li><a href="#blog">Blog</a></li>
                <!-- <li><a href="shop.html">Shop</a></li> -->
                <li><a href="#contact">Contact</a></li>
              </ul>
            </div>
          </div>
          <div class="col-12">
            <div class="link-widget">
              <ul>
                <li>
                  <a href="#"><i class="ti-twitter"></i></a>
                </li>
                <li>
                  <a href="#"><i class="ti-dribbble"></i></a>
                </li>
                <li>
                  <a href="#"><i class="ti-facebook"></i></a>
                </li>
                <li>
                  <a href="#"><i class="ti-linkedin"></i></a>
                </li>
                <li>
                  <a href="#"><i class="ti-skype"></i></a>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-12">
            <div style="margin-top: 1.2rem;">
                <a style="color: #D4B0A5;" href="delete-my-account.html">Delete My Account</a>
            </div>
            <div class="copyright">
              <p>
                © Copyright 2025 | <a href="index.html">Weddy</a> | All
                right reserved.
                <a href="privacy.html">Privacy Policy</a>

              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    
<script>
  document.getElementById('loginForm').addEventListener('submit', async function(event) {
    event.preventDefault(); // Prevent form from reloading the page

    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value.trim();

    try {
      // 1. Send login request
      const loginResponse = await fetch('https://dev.weddy.online/api/v1/auth/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ email, password })
      });

      const loginData = await loginResponse.json();

      // 2. If login fails, show error and stop
      if (!loginResponse.ok) {
        document.getElementById('resultMessage').textContent = loginData.message || 'Login failed.';
        return;
      }

      // 3. Get token and userId from the login response
      const token = loginData.token;
      const userId = loginData.user.id;

      // 4. Send DELETE request to delete the account
      const deleteResponse = await fetch(`https://dev.weddy.online/api/v1/user/${userId}`, {
        method: 'DELETE',
        headers: {
          'Authorization': `Bearer ${token}`
        }
      });

      // 5. Handle account deletion response
      if (deleteResponse.ok) {
        document.getElementById('resultMessage').textContent = 'Your account has been deleted.';
        localStorage.clear(); // Clear any stored data (just in case)
      } else {
        const deleteData = await deleteResponse.json();
        document.getElementById('resultMessage').textContent = deleteData.message || 'Failed to delete account.';
      }
    } catch (error) {
      console.error('Error:', error);
      document.getElementById('resultMessage').textContent = 'An unexpected error occurred.';
    }
  });
</script>


<script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <!-- Plugins for this template -->
    <script src="assets/js/modernizr.custom.js"></script>
    <script src="assets/js/jquery.dlmenu.js"></script>
    <script src="assets/js/jquery-plugin-collection.js"></script>
    <!-- Custom script for this template -->
    <script src="assets/js/script.js"></script>
  </body>
</html>
